{"version":3,"file":"contentScript.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://chrome-studio-extension/./src/content/contentScript.ts"],"sourcesContent":["function addYoutubeButton() {\n    const addToStudioButton = document.createElement(\"button\");\n    const imgUrl = chrome.runtime.getURL(\"icon-white.png\");\n    const studioImg = document.createElement(\"img\");\n    // Studio YT button\n    addToStudioButton.className = \"ytp-button\";\n    addToStudioButton.type = \"button\";\n    addToStudioButton.title = \"click to add this video to your Studio library\";\n    addToStudioButton.style.height = \"100%\";\n    addToStudioButton.style.margin = \"6.3px 18px\";\n    addToStudioButton.style.width = \"100%\";\n    addToStudioButton.style.textAlign = \"end\";\n    // img styling\n    studioImg.src = imgUrl;\n    studioImg.style.width = \"22px\";\n    addToStudioButton.append(studioImg);\n    const youtubeLeftControls = document.getElementsByClassName(\"ytp-left-controls\")[0];\n    if (youtubeLeftControls) {\n        youtubeLeftControls.append(addToStudioButton);\n        addToStudioButton.addEventListener(\"click\", () => {\n            const getIframe = () => {\n                return document.getElementsByClassName(\"ytp-impression-link\");\n            };\n            const extractYTLink = () => {\n                const link = getIframe()[0].href;\n                return link.split(\"&embed\")[0];\n            };\n            if (getIframe().length >= 1) {\n                successAlert();\n                chrome.runtime.sendMessage({ external_url: extractYTLink() });\n            }\n            else {\n                successAlert();\n                chrome.runtime.sendMessage({ external_url: window.location.href });\n            }\n        });\n    }\n}\naddYoutubeButton();\nfunction successAlert() {\n    const container = document.createElement(\"div\");\n    container.style.width = \"100%\";\n    container.style.margin = \"0 auto\";\n    container.style.position = \"fixed\";\n    container.style.top = \"80px\";\n    const alert = document.createElement(\"div\");\n    alert.style.backgroundColor = \"#0B874B\";\n    alert.style.height = \"40px\";\n    alert.style.width = \"500px\";\n    alert.style.margin = \"0 auto\";\n    alert.innerText = \"Video has been successfully saved to Studio\";\n    alert.style.fontSize = \"15px\";\n    alert.style.color = \"white\";\n    alert.style.textAlign = \"center\";\n    alert.style.paddingTop = \"20px\";\n    const main = document.getElementsByTagName(\"body\")[0];\n    container.appendChild(alert);\n    main.appendChild(container);\n    setTimeout(() => {\n        container.style.display = \"none\";\n    }, 2000);\n}\nfunction loadCaptionDownloadButton() {\n    const youtubeLeftControls = document.getElementsByClassName(\"ytp-left-controls\")[0];\n    const captionDownloadButton = document.createElement(\"button\");\n    const imgUrl = chrome.runtime.getURL(\"download-icon.png\");\n    const captionIcon = document.createElement(\"img\");\n    // Caption download YT button\n    captionDownloadButton.className = \"ytp-button\";\n    captionDownloadButton.type = \"button\";\n    captionDownloadButton.title =\n        \"click to add this video to your Studio library\";\n    captionDownloadButton.style.height = \"100%\";\n    captionDownloadButton.style.margin = \"6.3px 18px\";\n    // img styling\n    captionIcon.src = imgUrl;\n    captionIcon.style.width = \"22px\";\n    captionDownloadButton.append(captionIcon);\n    if (youtubeLeftControls) {\n        youtubeLeftControls.append(captionDownloadButton);\n        const YTVideoTitle = document\n            .getElementsByTagName(\"title\")[0]\n            .textContent.split(\" - \")[0];\n        captionDownloadButton.addEventListener(\"click\", () => {\n            chrome.runtime.sendMessage({ captionDownloadTitle: YTVideoTitle });\n            successAlert();\n        });\n    }\n}\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n    if (request.captionStatus === \"ready\") {\n        loadCaptionDownloadButton();\n    }\n});\n"],"names":[],"sourceRoot":""}